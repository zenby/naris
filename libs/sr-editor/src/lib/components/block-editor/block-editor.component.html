<div class="row">
  <div class="info">
    {{ textBlock.type | typeFormat }}
    {{ isEdit | booleanToString: ' [*]':' [ ]' }}
  </div>
  <div (click)="onSelectBlock()" class="edit">
    <ng-container *ngIf="isEdit">
      <textarea
        class="block-editor"
        [(ngModel)]="textBlock.text"
        (blur)="onEndEdit()"
        (ngModelChange)="textChange($event)"
        (keydown)="command($event)"
        #edit
        soerAutoresize
      >
      </textarea>
      <p class="help">
        (EDIT:{{ localIndex }}) Alt-1,2,3 - markdown, test, presentation Alt-Enter - новый блок, Alt-Backspace - удалить
        блок, Alt-Up/Down - сдвинуть блок, Esc - конец редактирования
      </p>
    </ng-container>

    <div class="block-editor" (click)="isEdit = true" [ngStyle]="{ display: isEdit ? 'none' : 'block' }">
      <ng-template #editComponent></ng-template>
    </div>
  </div>
</div>
