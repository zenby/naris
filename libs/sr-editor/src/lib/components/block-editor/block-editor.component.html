<div class="row">
  <div class="info">
    {{ textBlock.type | typeFormat }}
    {{ isEdit | booleanToString: ' [*]':' [ ]' }}

    <button
      *ngIf="isEdit"
      class="edit-button"
      (click)="stopEdit()"
      nz-button
      nzTrigger="click"
      nzType="default"
      nzSize="small"
      nzPlacement="bottomRight"
    >
      <i nz-icon nzType="edit"></i>
    </button>
  </div>
  <div class="block-wrapper">
    <div class="edit" soerAutoresize style="overflow: hidden">
      <ng-container>
        <textarea
          [ngStyle]="{ opacity: isEdit ? '100%' : '0%' }"
          style="height: 100%; position: absolute"
          class="block-editor"
          (click)="isEdit = true"
          [(ngModel)]="textBlock.text"
          (keydown)="command($event)"
          #edit
        >
        </textarea>
      </ng-container>

      <div class="block-editor" style="height: 100%" [ngStyle]="{ visibility: !isEdit ? 'visible' : 'hidden' }">
        <ng-template #editComponent></ng-template>
      </div>
    </div>
    <div class="block-controls" *ngIf="isEdit">
      <soer-block-editor-controls [controls]="controls"></soer-block-editor-controls>
    </div>
  </div>
</div>
